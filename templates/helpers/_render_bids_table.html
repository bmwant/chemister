{% import "helpers/_get_status.html" as status_macro %}
{% macro render_transactions(header, transactions) -%}
<div class="card">
  <div class="card-header">
    <h3 class="card-title">{{ header }}</h3>
    <small class="text-muted">N active</small>
    Rate
    Amount
  </div>
  <div class="table-responsive">
    <table class="table card-table table-vcenter text-nowrap">
      <thead>
        <tr>
          <th class="w-1">#</th>
          <th>Amount</th>
          <th>Currency</th>
          <th>Rate buy</th>
          <th>Rate sale</th>
          <th>Rate close</th>
          <th>Opened</th>
          <th>Closed</th>
          <th>Status</th>
          <th>User</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      {% for t in transactions %}
      <tr class="">
        <td><span class="text-muted">{{ t.id }}</span></td>
        <td>{{ t.amount }}</td>
        <td>{{ t.currency }}</td>
        <td>{{ t.rate_buy }}</td>
        <td>{{ t.rate_sale}}</td>
        <td>{{ t.rate_close if t.rate_close is not none}}</td>
        <td>{{ t.date_opened | format_datetime }}</td>
        <td>{{ t.date_closed | format_datetime }}</td>
        <td>
          {{ t.status }}
        </td>
        <td>
          <a href="/resource/">user</a>
        </td>
        <td class="text-right">
          <div class="dropdown">
            <button class="btn btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown">Actions</button>
            <div class="dropdown-menu dropdown-menu-right" x-placement="top-end" style="position: absolute; transform: translate3d(-181px, -156px, 0px); top: 0px; left: 0px; will-change: transform;">
              <a href="/transaction/buy/{{ t.id }}" class="dropdown-item">
                <i class="dropdown-icon fe fe-chevrons-right"></i> Confirm bought</a>
              <a href="/transaction/sale/{{ t.id }}" class="dropdown-item">
                <i class="dropdown-icon fe fe-chevrons-left"></i> Confirm sold</a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="dropdown-icon fe fe-x"></i> Delete</a>
            </div>
          </div>
        </td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{%- endmacro %}
